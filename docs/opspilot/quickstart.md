---
sidebar_position: 2
---

# 快速入门

背景说明

企业中有大量知识和信息，包括政策、产品说明、流程文档和技术支持等,但信息分散，员工获取成本高，影响问题处理和决策效率。传统的文档检索和人工咨询方式难以满足快速响应的需求。

OpsPilot 通过集中管理企业知识，并结合大语言模型能力，构建面向企业内外部用户的智能机器人，提供准确、可控的智能化问答与服务，提升用户体验。

## 第一步：新建模型

本功能用于在 BlueKing Lite 平台中添加、编辑和管理大语言模型（LLM）、嵌入模型（Embed Model）等，以支撑平台的智能交互与生成能力。

1. 在 OpsPilot 导航栏，进入 **工具** 
2. 通过顶部的 `LLM Model`/`Embed Model`/`Rerank Model`/`OCR Model` 标签，切换不同类型的模型管理页面（以LLM Model为例）
3. 点击右上角的 「添加」 按钮，弹出编辑配置弹窗。
4. 在弹窗中按要求填写以下必填项（带 * 为必填）：
![功能图片1.png](https://static.cwoa.net/dd31e27f0f2441569325dc8aedc8d656.png)
    - **名称**：自定义模型的显示名称（如 `BKLite-GPT-OSS-120B`），用于在平台内识别该模型。
    - **模型名称**：模型的官方技术名称（如 `gpt-oss:120b`），需与接口侧定义一致。
    - **模型分组**：选择模型所属厂商/分组（如 `OpenAI`、`零一万物`），用于归类管理。
    - **模型类别**：选择模型的能力类型（如 `文本类`、`代码类`、`推理增强`）。
    - **网址**：模型接口的 API 地址（在对应厂商开发者控制台查看）。
    - **API密钥**：访问该模型接口的授权密钥，需妥善保管。
    - **启用**：开启开关可让模型立即生效，关闭则暂不提供服务。
    - **分组**：选择该模型可被使用的权限分组（如 `OpsPilotGuest`），用于控制访问范围。
5. 填写完成后，点击 **「确认」** 



## 第二步：新建知识库

为了更好的使用机器人，需要对机器人引用的知识进行上传-存储-训练-检索，这些可在“OpsPilot-知识库”中实现。在“知识库”中创建一个知识库，以存储和管理机器人所需的所有信息和数据。

### 创建知识库

1. 在 OpsPilot 导航栏，进入 **知识库** → **新增知识库**
2. 配置名称、Embed 模型、分组、简介，点击确定。
![功能图片1.png](https://static.cwoa.net/0cbbf72e17774d4bbd6a23792cf9fa6b.png)
   - Embed 模型：用于知识库知识的存储，以便后续高效搜索
   - 分组：归属的组织（知识库的查看和操作权限和所属组织有关，可多选）
3. **保存** ，知识库创建完成。

### 上传知识库文档
- 在知识库中点击“添加”，您可以通过三种方式提供内容：
- **本地文件**：支持上传word、Excel、pdf等格式的文档
- **网页文档**：直接引用网站信息
- **自定义文本**：自行撰写的文档
![功能图片2.png](https://static.cwoa.net/bd68106b63f14a03b202cc5bfb10df1f.png)

### 知识文档选择和处理
1.选择文件
- 支持三种方式上传：本地文件、网页链接、自定义文本：
- **本地文件**：点击提示区域自动打开资源管理器，打开需要上传文件夹选取文件上传；或者提前打开文件夹，选取文件直接拖拽到有效区域内。
- **网页文档**：输入网址链接，设置需要跳转的网址数量（深度），系统将自动提取网页内容作为知识来源。
- **自定义文本**：一些零散或者自创的内容可通过手动输入创建。
![功能图片3.png](https://static.cwoa.net/265554dfa00740158aba2f256341bd26.png)

2.提取文件
- 上传的文件首先需要将文件内的文本提取出来，系统会根据文件类型初始匹配推荐方式，在配置操作中可修改。
![功能图片4.png](https://static.cwoa.net/5b8a5e7724264aa6b815b79e6b656058.png)
一共4种提取方式，包括：全文提取、章节提取、工作表提取、行级提取，分别使用不同情况，可根据提取说明中的文字说明和示例图选取想要的提取方式。（全文提取中，pdf文件不可编辑的一类可启动OCR增强识别图像中的文字）

3.分块处理
- 文本提取后，需将其分割成大小合适的“块”，请选择一种分块策略，必要时调整参数，并务必点击【查看块】预览效果：
- **定长分块**：按固定字符长度分割。
- **循环分块**：在定长基础上，允许块与块之间内容重叠，避免语义被截断。
- **语义分块**：Embed模型基于算法分析文字意思、逻辑分块。
- **不分块**：将整个文档作为一块处理，适合短小精悍的内容。；
 ![功能图片5.png](https://static.cwoa.net/37eca88272524c35bc4da5dd96322c25.png)

4.完成与验证
- 1.**提交任务**：确认分块效果后，点击 **完成** 或 **返回文档列表** 提交任务。系统将自动对文档进行切片和训练。
![功能图片6.png](https://static.cwoa.net/71fd949be73849db871df03a6bff57b8.png)
- 2.**查看处理状态**：返回文档列表，查看文档状态。当状态显示为 **就绪** 时，表示该文档已成功构建，可被知识库正常使用。
![功能图片7.png](https://static.cwoa.net/00f1621a70d1421ba0f475f58a32a086.png)
- 3.**测试效果**：进入知识库 **测试**页面，配置检索参数并输入问题进行测试，验证机器人是否能够正确命中并返回相关内容。
![功能图片8.png](https://static.cwoa.net/25e749af059c44d9ad62f05b52f8d433.png)

### 问答对——文档预处理2

生成问答对

问答对的生成方式主要为LLM大模型对分块数据智能生成问答对。并且在知识库的文档中，用户可自行选择文件或网页链接并通过LLM模型自动生成问答对。
1. 在 OpsPilot 导航栏，进入 **知识库** → **问答对** → **+添加** 可以添加文件。
![功能图片10.png](https://static.cwoa.net/73eb9e2315bb4244869ce026bb25af43.png)
2.  **选择来源**，选择问答对生成方式：
![功能图片11.png](https://static.cwoa.net/119185a6ed074b6cb70a4adb87a28382.png)
3. 点击**添加** ，添加上传的文件，点击弹窗右下角的**确认**按钮，完成文档选择。
![功能图片12.png](https://static.cwoa.net/94ced0ed23c74f948ae60e553213b7b6.png)
4. 配置问答对信息：问答对数量、问题LLM大模型，问题提示语、答案LLM大模型、答案提示语。**预览**可查看效果，确认无误后，点击弹窗右下角的**生成问题和答案**
![功能图片12.png](https://static.cwoa.net/fff89041b6364fcf9517c267c37145f2.png)

查看问答对

在知识库中，用户可直观的查看所有问答对。问答对的信息包括名称，问答对数量，创建时间，创建者，操作等，同时可以点击查看每一份问答对拆解的详情问题和答案。
1. 在 OpsPilot 导航栏，进入 **知识库** → **问答对** ，点击操作列的 **设置** 按钮
![功能图片13.png](https://static.cwoa.net/2914778b01bf4f43a5e3d6e644acae0f.png)
2.  **预览** ，完成分块选择，查看生成的问答对详情
![功能图片13.png](https://static.cwoa.net/33933ff4606a4046b0aad3d70001b59f.png)

### 知识图谱——文档预处理3

生成知识图谱

知识图谱的生成方式主要为LLM大模型，重排模型，Embed模型智能生成知识图谱。（注意：这里的embed模型要选择与知识库创建的时候一样的embed模型）在知识库的文档中，用户可自行选择文件并通过LLM模型自动生成知识图谱。
![功能图片16.png](https://static.cwoa.net/98178ac3ae0348d199344dc35880d46a.png)
查看知识图谱

选中的源文件汇总成知识图谱，图谱由节点和关联组成，节点分为实体，分块和社区。节点与节点之间的连线称为关联。在知识库中，用户可直观的查看所有知识图谱，同时可以点击具体查看知识图谱的节点，关系，总结等。
![功能图片17.png](https://static.cwoa.net/14b9bfab5ce34f57a546c9474f1966af.png)

### 结果检索

用户提出问题时，智能运维OpsPilot会通过灵活路由，选择调用知识图谱，还是知识分块，问答对作为召回结果，确保用户始终能获得最优答案。
![功能图片18.png](https://static.cwoa.net/a81070b4edb440f999d0c054de7e60ad.png)

## 第三步：新建智能体

接下来，需要定义机器人的智能体。
1. 在 OpsPilot 导航栏，进入 **智能体** → 可以创建空白智能体，也可以直接选择内置好的模板创建智能体。
![功能图片19.png](https://static.cwoa.net/6490df87edbd475c815accea21ea393a.png)
一共4种智能体类型，包括：知识问答智能体（RAG）、基础工具智能体（ReAct Agent） 、计划分解智能体（Plan Execute Agent）、决策树智能体（LATS
Agent），分别使用不同情况，可根据文字说明和示例图选取想要的智能体类型。
2. 配置智能体的基础模型与基本信息
![功能图片20.png](https://static.cwoa.net/33eecc5d2ed848f29b3f2a6b60f53e76.png)
 - 基本信息：名称/分组/简介,可以进行修改
  - LLM模型：支持选择内置的LLM大模型，大模型可以根据在知识库搜索到的结果，进行再次总结，并且回复。
  - LLM的温度参数：默认为0.7，用于控制文本生成的随机性和创造性；低温度（比如0.2）会生成更确定的结果，而高温度（比如0.9）则会增加文本的多样性和随机性。通过调节温度，用户可以根据需求平衡生成内容的准确性和创新性。
  - 提示：可以输入相关的提示语，引导模型生成特定的回复，通过提供上下文或问题以调节输出内容的方向和质量。
3. 按需配置智能体增强能力
![功能图片21.png](https://static.cwoa.net/c13e9650ed974514b5b1f0b09c0f1dc9.png)
  - 聊天历史：默认是10，聊天历史数量指的是系用户与机器人之间互动的对话轮次或消息总数。这一数量可以帮助机器人理解上下文，并增强回复的相关性和连贯性。
  - RAG：RAG是一种将信息检索与生成模型结合的架构，先从知识库中检索相关信息，然后使用生成模型产生上下文相关的回答。
  - 知识库：支持选择同一分组下的知识库作为知识来源，并为知识库调整阈值，从而提高回答的准确性和可靠性。
  - 工具：给智能体获取外部数据或者执行操作的能力，具体调用哪个工具，由大模型自主决定。
4. 配置完成后，点击页面底部 **保存**，即可与智能体对话来测试和优化智能体效果。

## 第四步：新建工作台

当智能体创建完成后，我们需要在工作台正式创建应用机器人，并且把应用发布出去，以供大家使用。

1. 在 OpsPilot 导航栏，进入 **工作台** →  **新增+**，进入流程配置页面。
![功能图片22.png](https://static.cwoa.net/29d1953acdf54777a882430c6e390447.png)
2. 从左侧节点面板中，按需拖拽添加触发方式节点到画布中。
![功能图片23.png](https://static.cwoa.net/e7408c51f1b444dfa9f8be9b925132b0.png)
触发方式介绍详情看左侧菜单栏**接口说明**
3. 添加 **智能体** 节点，配置智能体，并将各触发节点依次连接至智能体节点。
![功能图片24.png](https://static.cwoa.net/389e15fec87a49a39fad2b3d81c04255.png)
4. 设置完后，点击 **设置** → **保存&发布**按钮，在配置好的渠道即可使用该应用。


## 第五步：使用应用

目前OpsPilOt支持嵌入式对话、Web、移动端、企微、公众号和钉钉六类通知渠道，可以按照设定的机器人域名/端口等信息，在渠道上发布。

比如在企微工作台创建应用，并且接入机器人，即可实现对话。
![功能图片25.png](https://static.cwoa.net/353e3a275da44f248cddcb15145526c7.png)

## 第六步：查看触发日志和对话情况

当用户对话完成后，可以在应用中查看所有用户的对话记录以及用户对机器人的使用和调用情况。
1. 在 OpsPilot 导航栏，进入 **工作台** →  **日志**。
2. 可查看**触发日志**和**对话日志**，可通过用户名搜索框或时间筛选，定位目标日志，点击 **详情**。
![功能图片26.png](https://static.cwoa.net/5b0fb03bb76c467c8521d954aee27e2f.png)
![功能图片27.png](https://static.cwoa.net/4b7d46720e8c4102a21970677163669c.png)

## 🎯 场景教程
- [5分钟搭建一个web应用巡检](./scenarios/5min-setup-web-app-inspection.md)
- [Kubernetes集群巡检配置](./scenarios/kubernetes-inspection-scenario.md)
- [Postgres检查快速开始](./scenarios/postgres-inspection-quickstart.md)